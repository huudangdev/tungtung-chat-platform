"use strict";

require("core-js/modules/es.symbol");

require("core-js/modules/es.symbol.description");

require("core-js/modules/es.symbol.iterator");

require("core-js/modules/es.array.iterator");

require("core-js/modules/es.object.create");

require("core-js/modules/es.object.define-property");

require("core-js/modules/es.object.get-own-property-descriptor");

require("core-js/modules/es.object.get-prototype-of");

require("core-js/modules/es.object.set-prototype-of");

require("core-js/modules/es.object.to-string");

require("core-js/modules/es.string.iterator");

require("core-js/modules/web.dom-collections.iterator");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _native = _interopRequireDefault(require("@emotion/native"));

var _react = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _addons = _interopRequireDefault(require("@storybook/addons"));

var _StoryListView = _interopRequireDefault(require("../StoryListView"));

var _StoryView = _interopRequireDefault(require("../StoryView"));

var _addons2 = _interopRequireDefault(require("./addons"));

var _panel = _interopRequireDefault(require("./panel"));

var _navigation = _interopRequireDefault(require("./navigation"));

var _absolutePositionedKeyboardAwareView = _interopRequireDefault(require("./absolute-positioned-keyboard-aware-view"));

var _constants = require("./navigation/constants");

var _animation = require("./animation");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj["default"] = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

var ANIMATION_DURATION = 300;
var IS_IOS = _reactNative.Platform.OS === 'ios';

var Preview =
/*#__PURE__*/
_native["default"].TouchableOpacity("flex:1;border-left-width:", function (props) {
  return props.disabled ? '0' : '1';
}, ";border-top-width:", function (props) {
  return props.disabled ? '0' : '1';
}, ";border-right-width:", function (props) {
  return props.disabled ? '0' : '1';
}, ";border-bottom-width:", function (props) {
  return props.disabled ? '0' : '1';
}, ";border-color:", function (props) {
  return props.disabled ? 'transparent' : props.theme.previewBorderColor;
}, ";" + (process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9wcmV2aWV3L2NvbXBvbmVudHMvT25EZXZpY2VVSS9pbmRleC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBa0RnRSIsImZpbGUiOiIuLi8uLi8uLi8uLi9zcmMvcHJldmlldy9jb21wb25lbnRzL09uRGV2aWNlVUkvaW5kZXgudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBLZXlib2FyZCxcbiAgS2V5Ym9hcmRBdm9pZGluZ1ZpZXcsXG4gIFBsYXRmb3JtLFxuICBBbmltYXRlZCxcbiAgVG91Y2hhYmxlT3BhY2l0eSxcbiAgVG91Y2hhYmxlT3BhY2l0eVByb3BzLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9uYXRpdmUnO1xuaW1wb3J0IGFkZG9ucyBmcm9tICdAc3Rvcnlib29rL2FkZG9ucyc7XG5pbXBvcnQgQ2hhbm5lbCBmcm9tICdAc3Rvcnlib29rL2NoYW5uZWxzJztcbmltcG9ydCBTdG9yeUxpc3RWaWV3IGZyb20gJy4uL1N0b3J5TGlzdFZpZXcnO1xuaW1wb3J0IFN0b3J5VmlldyBmcm9tICcuLi9TdG9yeVZpZXcnO1xuaW1wb3J0IEFkZG9ucyBmcm9tICcuL2FkZG9ucyc7XG5pbXBvcnQgUGFuZWwgZnJvbSAnLi9wYW5lbCc7XG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tICcuL25hdmlnYXRpb24nO1xuaW1wb3J0IEFic29sdXRlUG9zaXRpb25lZEtleWJvYXJkQXdhcmVWaWV3LCB7XG4gIFByZXZpZXdEaW1lbnMsXG59IGZyb20gJy4vYWJzb2x1dGUtcG9zaXRpb25lZC1rZXlib2FyZC1hd2FyZS12aWV3JztcbmltcG9ydCB7IFBSRVZJRVcgfSBmcm9tICcuL25hdmlnYXRpb24vY29uc3RhbnRzJztcbmltcG9ydCB7XG4gIGdldFByZXZpZXdQb3NpdGlvbixcbiAgZ2V0UHJldmlld1NjYWxlLFxuICBnZXRBZGRvblBhbmVsUG9zaXRpb24sXG4gIGdldE5hdmlnYXRvclBhbmVsUG9zaXRpb24sXG59IGZyb20gJy4vYW5pbWF0aW9uJztcbmltcG9ydCB7IEVtb3Rpb25Qcm9wcyB9IGZyb20gJy4uL1NoYXJlZC90aGVtZSc7XG5cbmNvbnN0IEFOSU1BVElPTl9EVVJBVElPTiA9IDMwMDtcbmNvbnN0IElTX0lPUyA9IFBsYXRmb3JtLk9TID09PSAnaW9zJztcblxuaW50ZXJmYWNlIE9uRGV2aWNlVUlQcm9wcyB7XG4gIHN0b3JpZXM6IGFueTtcbiAgdXJsPzogc3RyaW5nO1xuICB0YWJPcGVuPzogbnVtYmVyO1xuICBpc1VJSGlkZGVuPzogYm9vbGVhbjtcbiAgc2hvdWxkRGlzYWJsZUtleWJvYXJkQXZvaWRpbmdWaWV3PzogYm9vbGVhbjtcbiAga2V5Ym9hcmRBdm9pZGluZ1ZpZXdWZXJ0aWNhbE9mZnNldD86IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIE9uRGV2aWNlVUlTdGF0ZSB7XG4gIHRhYk9wZW46IG51bWJlcjtcbiAgc2xpZGVCZXR3ZWVuQW5pbWF0aW9uOiBib29sZWFuO1xuICBwcmV2aWV3V2lkdGg6IG51bWJlcjtcbiAgcHJldmlld0hlaWdodDogbnVtYmVyO1xufVxuXG50eXBlIEVtb3Rpb25QcmV2aWV3UHJvcHMgPSBFbW90aW9uUHJvcHMgJiBUb3VjaGFibGVPcGFjaXR5UHJvcHM7XG5cbmNvbnN0IFByZXZpZXc6IHR5cGVvZiBUb3VjaGFibGVPcGFjaXR5ID0gc3R5bGVkLlRvdWNoYWJsZU9wYWNpdHlgXG4gIGZsZXg6IDE7XG4gIGJvcmRlci1sZWZ0LXdpZHRoOiAkeyhwcm9wczogRW1vdGlvblByZXZpZXdQcm9wcykgPT4gKHByb3BzLmRpc2FibGVkID8gJzAnIDogJzEnKX07XG4gIGJvcmRlci10b3Atd2lkdGg6ICR7KHByb3BzOiBFbW90aW9uUHJldmlld1Byb3BzKSA9PiAocHJvcHMuZGlzYWJsZWQgPyAnMCcgOiAnMScpfTtcbiAgYm9yZGVyLXJpZ2h0LXdpZHRoOiAkeyhwcm9wczogRW1vdGlvblByZXZpZXdQcm9wcykgPT4gKHByb3BzLmRpc2FibGVkID8gJzAnIDogJzEnKX07XG4gIGJvcmRlci1ib3R0b20td2lkdGg6ICR7KHByb3BzOiBFbW90aW9uUHJldmlld1Byb3BzKSA9PiAocHJvcHMuZGlzYWJsZWQgPyAnMCcgOiAnMScpfTtcbiAgYm9yZGVyLWNvbG9yOiAkeyhwcm9wczogRW1vdGlvblByZXZpZXdQcm9wcykgPT5cbiAgICBwcm9wcy5kaXNhYmxlZCA/ICd0cmFuc3BhcmVudCcgOiBwcm9wcy50aGVtZS5wcmV2aWV3Qm9yZGVyQ29sb3J9O1xuYDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT25EZXZpY2VVSSBleHRlbmRzIFB1cmVDb21wb25lbnQ8T25EZXZpY2VVSVByb3BzLCBPbkRldmljZVVJU3RhdGU+IHtcbiAgYW5pbWF0ZWRWYWx1ZTogQW5pbWF0ZWQuVmFsdWU7XG5cbiAgY2hhbm5lbDogQ2hhbm5lbDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogT25EZXZpY2VVSVByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGNvbnN0IHRhYk9wZW4gPSBwcm9wcy50YWJPcGVuIHx8IFBSRVZJRVc7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRhYk9wZW4sXG4gICAgICBzbGlkZUJldHdlZW5BbmltYXRpb246IGZhbHNlLFxuICAgICAgcHJldmlld1dpZHRoOiAwLFxuICAgICAgcHJldmlld0hlaWdodDogMCxcbiAgICB9O1xuICAgIHRoaXMuYW5pbWF0ZWRWYWx1ZSA9IG5ldyBBbmltYXRlZC5WYWx1ZSh0YWJPcGVuKTtcbiAgICB0aGlzLmNoYW5uZWwgPSBhZGRvbnMuZ2V0Q2hhbm5lbCgpO1xuICB9XG5cbiAgb25MYXlvdXQgPSAoeyBwcmV2aWV3V2lkdGgsIHByZXZpZXdIZWlnaHQgfTogUHJldmlld0RpbWVucykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBwcmV2aWV3V2lkdGgsIHByZXZpZXdIZWlnaHQgfSk7XG4gIH07XG5cbiAgaGFuZGxlT3BlblByZXZpZXcgPSAoKSA9PiB7XG4gICAgdGhpcy5oYW5kbGVUb2dnbGVUYWIoUFJFVklFVyk7XG4gIH07XG5cbiAgaGFuZGxlVG9nZ2xlVGFiID0gKG5ld1RhYk9wZW46IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHsgdGFiT3BlbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAobmV3VGFiT3BlbiA9PT0gdGFiT3Blbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBBbmltYXRlZC50aW1pbmcodGhpcy5hbmltYXRlZFZhbHVlLCB7XG4gICAgICB0b1ZhbHVlOiBuZXdUYWJPcGVuLFxuICAgICAgZHVyYXRpb246IEFOSU1BVElPTl9EVVJBVElPTixcbiAgICAgIHVzZU5hdGl2ZURyaXZlcjogdHJ1ZSxcbiAgICB9KS5zdGFydCgpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdGFiT3BlbjogbmV3VGFiT3BlbixcbiAgICAgIC8vIFRydWUgaWYgc3dpcGluZyBiZXR3ZWVuIG5hdmlnYXRvciBhbmQgYWRkb25zXG4gICAgICBzbGlkZUJldHdlZW5BbmltYXRpb246IHRhYk9wZW4gKyBuZXdUYWJPcGVuID09PSBQUkVWSUVXLFxuICAgIH0pO1xuICAgIC8vIGNsb3NlIHRoZSBrZXlib2FyZCBvcGVuZWQgZnJvbSBhIFRleHRJbnB1dCBmcm9tIHN0b3J5IGxpc3Qgb3Iga25vYnNcbiAgICBpZiAobmV3VGFiT3BlbiA9PT0gUFJFVklFVykge1xuICAgICAgS2V5Ym9hcmQuZGlzbWlzcygpO1xuICAgIH1cbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgc3RvcmllcyxcbiAgICAgIHVybCxcbiAgICAgIGlzVUlIaWRkZW4sXG4gICAgICBzaG91bGREaXNhYmxlS2V5Ym9hcmRBdm9pZGluZ1ZpZXcsXG4gICAgICBrZXlib2FyZEF2b2lkaW5nVmlld1ZlcnRpY2FsT2Zmc2V0LFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgeyB0YWJPcGVuLCBzbGlkZUJldHdlZW5BbmltYXRpb24sIHByZXZpZXdXaWR0aCwgcHJldmlld0hlaWdodCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIGNvbnN0IHByZXZpZXdXcmFwcGVyU3R5bGVzID0gW1xuICAgICAgeyBmbGV4OiAxIH0sXG4gICAgICBnZXRQcmV2aWV3UG9zaXRpb24odGhpcy5hbmltYXRlZFZhbHVlLCBwcmV2aWV3V2lkdGgsIHByZXZpZXdIZWlnaHQsIHNsaWRlQmV0d2VlbkFuaW1hdGlvbiksXG4gICAgXTtcblxuICAgIGNvbnN0IHByZXZpZXdTdHlsZXMgPSBbeyBmbGV4OiAxIH0sIGdldFByZXZpZXdTY2FsZSh0aGlzLmFuaW1hdGVkVmFsdWUsIHNsaWRlQmV0d2VlbkFuaW1hdGlvbildO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxLZXlib2FyZEF2b2lkaW5nVmlld1xuICAgICAgICBlbmFibGVkPXshc2hvdWxkRGlzYWJsZUtleWJvYXJkQXZvaWRpbmdWaWV3IHx8IHRhYk9wZW4gIT09IFBSRVZJRVd9XG4gICAgICAgIGJlaGF2aW9yPXtJU19JT1MgPyAncGFkZGluZycgOiBudWxsfVxuICAgICAgICBrZXlib2FyZFZlcnRpY2FsT2Zmc2V0PXtrZXlib2FyZEF2b2lkaW5nVmlld1ZlcnRpY2FsT2Zmc2V0fVxuICAgICAgICBzdHlsZT17eyBmbGV4OiAxIH19XG4gICAgICA+XG4gICAgICAgIDxBYnNvbHV0ZVBvc2l0aW9uZWRLZXlib2FyZEF3YXJlVmlld1xuICAgICAgICAgIG9uTGF5b3V0PXt0aGlzLm9uTGF5b3V0fVxuICAgICAgICAgIHByZXZpZXdIZWlnaHQ9e3ByZXZpZXdIZWlnaHR9XG4gICAgICAgICAgcHJldmlld1dpZHRoPXtwcmV2aWV3V2lkdGh9XG4gICAgICAgID5cbiAgICAgICAgICA8QW5pbWF0ZWQuVmlldyBzdHlsZT17cHJldmlld1dyYXBwZXJTdHlsZXN9PlxuICAgICAgICAgICAgPEFuaW1hdGVkLlZpZXcgc3R5bGU9e3ByZXZpZXdTdHlsZXN9PlxuICAgICAgICAgICAgICA8UHJldmlld1xuICAgICAgICAgICAgICAgIGFjY2Vzc2libGU9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0YWJPcGVuID09PSBQUkVWSUVXfVxuICAgICAgICAgICAgICAgIG9uUHJlc3M9e3RoaXMuaGFuZGxlT3BlblByZXZpZXd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U3RvcnlWaWV3IHVybD17dXJsfSBvbkRldmljZSBzdG9yaWVzPXtzdG9yaWVzfSAvPlxuICAgICAgICAgICAgICA8L1ByZXZpZXc+XG4gICAgICAgICAgICA8L0FuaW1hdGVkLlZpZXc+XG4gICAgICAgICAgPC9BbmltYXRlZC5WaWV3PlxuICAgICAgICAgIDxQYW5lbCBzdHlsZT17Z2V0TmF2aWdhdG9yUGFuZWxQb3NpdGlvbih0aGlzLmFuaW1hdGVkVmFsdWUsIHByZXZpZXdXaWR0aCl9PlxuICAgICAgICAgICAgPFN0b3J5TGlzdFZpZXcgc3Rvcmllcz17c3Rvcmllc30gLz5cbiAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgIDxQYW5lbCBzdHlsZT17Z2V0QWRkb25QYW5lbFBvc2l0aW9uKHRoaXMuYW5pbWF0ZWRWYWx1ZSwgcHJldmlld1dpZHRoKX0+XG4gICAgICAgICAgICA8QWRkb25zIC8+XG4gICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgPC9BYnNvbHV0ZVBvc2l0aW9uZWRLZXlib2FyZEF3YXJlVmlldz5cbiAgICAgICAgPE5hdmlnYXRpb25cbiAgICAgICAgICB0YWJPcGVuPXt0YWJPcGVufVxuICAgICAgICAgIG9uQ2hhbmdlVGFiPXt0aGlzLmhhbmRsZVRvZ2dsZVRhYn1cbiAgICAgICAgICBpbml0aWFsVWlWaXNpYmxlPXshaXNVSUhpZGRlbn1cbiAgICAgICAgLz5cbiAgICAgIDwvS2V5Ym9hcmRBdm9pZGluZ1ZpZXc+XG4gICAgKTtcbiAgfVxufVxuIl19 */"));

var OnDeviceUI =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(OnDeviceUI, _PureComponent);

  function OnDeviceUI(props) {
    var _this;

    _classCallCheck(this, OnDeviceUI);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(OnDeviceUI).call(this, props));
    _this.animatedValue = void 0;
    _this.channel = void 0;

    _this.onLayout = function (_ref) {
      var previewWidth = _ref.previewWidth,
          previewHeight = _ref.previewHeight;

      _this.setState({
        previewWidth: previewWidth,
        previewHeight: previewHeight
      });
    };

    _this.handleOpenPreview = function () {
      _this.handleToggleTab(_constants.PREVIEW);
    };

    _this.handleToggleTab = function (newTabOpen) {
      var tabOpen = _this.state.tabOpen;

      if (newTabOpen === tabOpen) {
        return;
      }

      _reactNative.Animated.timing(_this.animatedValue, {
        toValue: newTabOpen,
        duration: ANIMATION_DURATION,
        useNativeDriver: true
      }).start();

      _this.setState({
        tabOpen: newTabOpen,
        // True if swiping between navigator and addons
        slideBetweenAnimation: tabOpen + newTabOpen === _constants.PREVIEW
      }); // close the keyboard opened from a TextInput from story list or knobs


      if (newTabOpen === _constants.PREVIEW) {
        _reactNative.Keyboard.dismiss();
      }
    };

    var _tabOpen = props.tabOpen || _constants.PREVIEW;

    _this.state = {
      tabOpen: _tabOpen,
      slideBetweenAnimation: false,
      previewWidth: 0,
      previewHeight: 0
    };
    _this.animatedValue = new _reactNative.Animated.Value(_tabOpen);
    _this.channel = _addons["default"].getChannel();
    return _this;
  }

  _createClass(OnDeviceUI, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          stories = _this$props.stories,
          url = _this$props.url,
          isUIHidden = _this$props.isUIHidden,
          shouldDisableKeyboardAvoidingView = _this$props.shouldDisableKeyboardAvoidingView,
          keyboardAvoidingViewVerticalOffset = _this$props.keyboardAvoidingViewVerticalOffset;
      var _this$state = this.state,
          tabOpen = _this$state.tabOpen,
          slideBetweenAnimation = _this$state.slideBetweenAnimation,
          previewWidth = _this$state.previewWidth,
          previewHeight = _this$state.previewHeight;
      var previewWrapperStyles = [{
        flex: 1
      }, (0, _animation.getPreviewPosition)(this.animatedValue, previewWidth, previewHeight, slideBetweenAnimation)];
      var previewStyles = [{
        flex: 1
      }, (0, _animation.getPreviewScale)(this.animatedValue, slideBetweenAnimation)];
      return _react["default"].createElement(_reactNative.KeyboardAvoidingView, {
        enabled: !shouldDisableKeyboardAvoidingView || tabOpen !== _constants.PREVIEW,
        behavior: IS_IOS ? 'padding' : null,
        keyboardVerticalOffset: keyboardAvoidingViewVerticalOffset,
        style: {
          flex: 1
        }
      }, _react["default"].createElement(_absolutePositionedKeyboardAwareView["default"], {
        onLayout: this.onLayout,
        previewHeight: previewHeight,
        previewWidth: previewWidth
      }, _react["default"].createElement(_reactNative.Animated.View, {
        style: previewWrapperStyles
      }, _react["default"].createElement(_reactNative.Animated.View, {
        style: previewStyles
      }, _react["default"].createElement(Preview, {
        accessible: false,
        disabled: tabOpen === _constants.PREVIEW,
        onPress: this.handleOpenPreview
      }, _react["default"].createElement(_StoryView["default"], {
        url: url,
        onDevice: true,
        stories: stories
      })))), _react["default"].createElement(_panel["default"], {
        style: (0, _animation.getNavigatorPanelPosition)(this.animatedValue, previewWidth)
      }, _react["default"].createElement(_StoryListView["default"], {
        stories: stories
      })), _react["default"].createElement(_panel["default"], {
        style: (0, _animation.getAddonPanelPosition)(this.animatedValue, previewWidth)
      }, _react["default"].createElement(_addons2["default"], null))), _react["default"].createElement(_navigation["default"], {
        tabOpen: tabOpen,
        onChangeTab: this.handleToggleTab,
        initialUiVisible: !isUIHidden
      }));
    }
  }]);

  return OnDeviceUI;
}(_react.PureComponent);

exports["default"] = OnDeviceUI;